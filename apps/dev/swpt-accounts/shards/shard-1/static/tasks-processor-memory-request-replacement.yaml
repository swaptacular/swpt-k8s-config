source:
  kind: ConfigMap
  name: shardconfig
  fieldPath: data.kustomize_tasks_processor_memory_request
targets:
  - select:
      kind: Deployment
      name: tasks-processor
    fieldPaths:
      - spec.template.spec.containers.[name=tasks-processor].resources.requests.memory
      - spec.template.spec.initContainers.[name=init].resources.requests.memory
    options:
      create: true

