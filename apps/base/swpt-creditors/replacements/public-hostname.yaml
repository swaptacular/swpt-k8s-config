source:
  kind: ConfigMap
  name: creditors-agent-config
  fieldPath: data.PUBLIC_HOSTNAME
targets:
  - select:
      group: hydra.ory.sh
      version: v1alpha1
      kind: OAuth2Client
      name: creditors-webapp
    fieldPaths:
      - spec.redirectUris.0
    options:
      delimiter: "/"
      index: 2
  - select:
      group: hydra.ory.sh
      version: v1alpha1
      kind: OAuth2Client
      name: swagger-ui
    fieldPaths:
      - spec.redirectUris.0
    options:
      delimiter: "/"
      index: 2
  - select:
      group: networking.k8s.io
      version: v1
      kind: Ingress
      name: ingress-rules
    fieldPaths:
      - spec.rules.*.host
      - spec.tls.*.hosts.*
