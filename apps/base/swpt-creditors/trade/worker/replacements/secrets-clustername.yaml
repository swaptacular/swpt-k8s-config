source:
  group: acid.zalan.do
  version: v1
  kind: postgresql
  name: trade-worker-db
  fieldPath: metadata.name
targets:
  - select:
      name: postgres.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.labels.cluster-name
  - select:
      name: postgres.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.name
    options:
      delimiter: "."
      index: 1
  - select:
      name: standby.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.labels.cluster-name
  - select:
      name: standby.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.name
    options:
      delimiter: "."
      index: 1
  - select:
      name: db-owner.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.labels.cluster-name
  - select:
      name: db-owner.cluster-name.credentials.postgresql.acid.zalan.do
      kind: Secret
    fieldPaths:
      - metadata.name
    options:
      delimiter: "."
      index: 1
